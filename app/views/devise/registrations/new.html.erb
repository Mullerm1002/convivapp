<div class="container-form" data-controller= "show-form">
  <h2>Créer votre compte 😁</h2>
    <p class="p-log" id="center">Rejoignez nous vite pour participer à cette grande aventure !</p>
    <p class="p-log">Cliquez sur le visage de gauche pour vous inscrire en tant qu'étudiant. <br>
    Cliquez sur le visage de droite pour vous inscrire en tant que senior</p>

  <div class="image-form">
    <div class="image-logo" data-show-form-target="image-junior">
      <%= image_tag('convivapp_logo_part1.png', data: {action: 'click->show-form#displayForm'})%> 
    </div>
    <div class="image-logo" data-show-form-target="image-senior">
      <%= image_tag('convivapp_logo_part2.png', data: {action: 'click->show-form#displayFormSenior'})%> 
    </div>
  </div>

  <div class="form-user-actions">
    <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: 'd-none', data: { show_form_target: 'form' } } ) do |f| %>
      <%= f.error_notification %>
      
      <p class= 'd-none' data-show-form-target='junior'> Hello Conviv'Appeur Junior 👨‍🎓 ! <br> Voici les informations dont nous avons besoin pour l'inscription :</p>
      <p class= 'd-none' data-show-form-target='senior'> Hello Conviv'Appeur Senior 👨 ! <br> Voici les informations dont nous avons besoin pour l'inscription :</p>

      <div class="form-inputs">
        <%= f.input :first_name, label: "Prénom :",
                    required: true,
                    input_html: { autocomplete: "first_name" } 
        %>
        <%= f.input :last_name, label: "Nom :",
                    required: true,
                    input_html: { autocomplete: "last_name" } 
        %>

        <%= f.input :email, label: "Adresse e-mail :",
                    required: true,
                    autofocus: true,
                    input_html: { autocomplete: "email" } 
        %>

        <%= f.input :avatar, as: :file,
                      label: "Votre photo de profil" 
        %>
                    
        <%= f.input :description, :as => :text, 
                    required: true
        %>

        <%= f.input :birth_date, label: "Votre date de naissance :",
                    start_year: Time.now.year - 130,
                    end_year: Time.now.year - 10,
                    order: %i(day month year) 
        %>

        <div class='d-none' data-show-form-target='card'>
          <%= f.input :student_card, as: :file,
                      required: true,
                      label: "Votre carte étudiante" 
          %>
        </div>          
                  
        <%= f.input :password, label: "Mot de passe :",
                    required: true,
                    hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length),
                    input_html: { autocomplete: "password" }
        %>

        <%= f.input :password_confirmation,
                    required: true,
                    input_html: { autocomplete: "password" } 
        %>

        <%= f.hidden_field :role, value: "junior"
        %>
      </div>

      <div class="form-actions ">
        <%= f.button :submit, "Inscrivez-vous" %>
      </div>

    <% end %>

  </div>
    <%= render "devise/shared/links" %>
</div>

<%# <h2>Créer votre compte 😁</h2>
  <p class="p-log">Rejoignez nous vite pour participer à cette grande aventure</p>
  <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
    <%# <div class="form-inputs">
     <%= f.input :last_name, label: "Nom :",
                  required: false,
                  input_html: { autocomplete: "email" }
                  
     <%= f.input :birth_date, label: "Votre date de naissance :",
                  start_year: Time.now.year - 100,
                  end_year: Time.now.year - 10,
                  order: %i(day month year)
                  
      <%= f.input :email, label: "Adresse e-mail :",
                  required: false,
                  autofocus: true,
                  input_html: { autocomplete: "email" }
                  <%# %>
      <%# <%= f.input :password, label: "Mot de passe :",
                  required: false,
                  input_html: { autocomplete: "current-password" } %>
      <%# <%= f.input :remember_me, label:"Se rappeler de moi", as: :boolean if devise_mapping.rememberable? %>
    <%# </div> %>
    <%# <div class="form-actions">
      <%= f.button :submit, "Connectez-vous" %>
    <%# </div> %>
  <%# <% end %>
  <%# <%= render "devise/shared/links" %>
<%# </div> %>